<html>
    <head>
        <title>Notifications</title>
        <script type="text/javascript" src="jquery-1.3.2.js"></script>
        <script type="text/javascript" src="jquery.jcorners.js"></script>
        <script type="text/javascript" src="jquery.jscast.js"></script>
        <script type="text/javascript">
            $(function(){
                $.jcorners("#notifications li",{radius: 5});
                $(".eventtest").click(function(){alert("hi");});
                /*$("#notifications li").hover(
                    function(){
                        console.log("hover_on");
                        console.log("hoverlock:" + $(this).data('hoverlock'));
                        if(!$(this).data('hoverlock')){
                            $(this).fadeTo(200, 0.15);
                        }
                    },
                    function(){
                        console.log("hover_off");
                        console.log("hoverlock:" + $(this).data('hoverlock'));
                        if(!$(this).data('hoverlock')){
                            $(this).fadeTo(200, 0.85);
                        }
                    }
                );*/
                // get cursor from object below, currently causes
                // flashing due to triggering hover on/off events
                // when hide/showing
                $(document).mousemove(function(e){
                    var mouse_x = e.pageX;
                    var mouse_y = e.pageY;
                    $("#notifications li").each(function(){
                        var rect = this.getBoundingClientRect();
                        if(mouse_x >= rect.left && mouse_x <= rect.right
                        && mouse_y >= rect.top && mouse_y <= rect.bottom){
                            $(this).css('opacity', 0.15);
                        }
                        else {
                            $(this).css('opacity', 0.85);
                        }
                    });
                });
                $("#notifications li").mousemove(function(e){
                    //$(this).data('hoverlock', true);
                    //console.log("hide");
                    $(this).parent().hide();
                    el = document.elementFromPoint(e.pageX, e.pageY);
                    $(this).parent().show();
                    //console.log("show");
                    /*setTimeout(function(){
                        $(this).data('hoverlock', false);
                    }, 200);*/
                    $(this).css('cursor', $(el).css('cursor'));
                });
                // hide/show causes hover on/off events on click, but less
                // noticable as only happens once
                $("#notifications li").click(function(e){
                    $(this).parent().hide();
                    el = document.elementFromPoint(e.pageX, e.pageY);
                    $(this).parent().show();
                    $(el).click();
                });
            });
        </script>
        <style>
            #notifications {
                position: fixed;
                top: 10px;
                left: 10px;
                list-style-type: none;
                margin: 0;
                padding: 0;
                font-family: Arial,sans-serif;
                font-size: 10pt;
                width: 300px;
            }
            #notifications li {
                background: #000;
                opacity: 0.85;
                padding: 18px;
                margin: 5px;
                color: #fff;
            }
            #notifications li.icon {
                padding-left: 84px;
                height: 52px;
            }
            #notifications li .title {
                font-size: 12pt;
                font-weight: bold;
            }
            #notifications li .icon {
                width: 52px;
                height: 52px;
                background: #f00;
                position: absolute;
                top: 23px;
                left: 23px;
            }
            .eventtest {
                width: 50px;
                height: 50px;
                background: #f00;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <ul id="notifications">
            <li class="icon">
                <div class="icon"></div>
                <div class="title">First note</div>
                blah blah blah
            </li>
            <li>
                <div class="title">First note</div>
                blah blah blah
            </li>
            <li>note 2</li>
        </ul>
        <div class="eventtest">test</div>
    </body>
</html>
